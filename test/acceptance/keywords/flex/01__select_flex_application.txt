*** Settings ***
Suite Setup     Go To  ${ROOT}/flex/multipleapps.html
Resource        ../../resource.txt

*** Test Cases ***

Using Flex commands without selecting application
    Run Keyword And Expect Error  No Flex application selected.  
    ...  Click Flex Element  button

Selecting application returns an increasing index
    ${id}=  Select Flex Application  loginApp  first_app
    Should Be Equal As Numbers  ${id}  1
    Login Application Should Be Selected
    ${id}=  Select Flex Application  dynamicApp  second_app
    Should Be Equal As Numbers  ${id}  2
    Dynamic App Should Be Selected

Application may be switched
    Switch Flex application  first_app
    Login Application Should Be Selected
    Switch Flex application  2
    Dynamic App Should Be Selected

*** Keywords ***
Login Application Should Be Selected
    Flex Element Should Exist  username
    
Dynamic App Should Be Selected
    Flex Element Should Exist  clickCountLabel

